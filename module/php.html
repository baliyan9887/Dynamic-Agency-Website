<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Dujunction- PHP module| login form</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="" name="keywords">
  <meta content="" name="description">

  <!-- Favicons -->
  <link href="#" rel="icon">
  <link href="#" rel="apple-touch-icon">

  <!-- Bootstrap CSS File -->
  <link href="../lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Libraries CSS Files -->
  <link href="../lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="../lib/animate/animate.min.css" rel="stylesheet">
  <link href="../lib/ionicons/css/ionicons.min.css" rel="stylesheet">
  <link href="../lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="../lib/lightbox/css/lightbox.min.css" rel="stylesheet">

  <!-- Main Stylesheet File -->
  <link href="../css/style.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
</head>

<body>
  <!--/ Nav Star /-->
 <nav class="navbar navbar-b navbar-trans navbar-expand-md fixed-top" id="mainNav">
    <div class="container">
       <a class="navbar-brand js-scroll" href="index.html"><img src="../img/Final_Logo.png" style="  position: absolute; top: 60%; bottom: auto; -webkit-transform: translateY(-50%);  -ms-transform: translateY(-50%);  transform: translateY(-50%);   height: 75px;
       display: block;" id="icon"> </a>
      <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarDefault"
        aria-controls="navbarDefault" aria-expanded="false" aria-label="Toggle navigation" id="btn">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <div class="navbar-collapse collapse justify-content-end" id="navbarDefault">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link js-scroll active" href="../index.html">Home</a>
          </li>
          <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</a>
              <div class="dropdown-menu" style=" border: none; padding: 0;" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item nav-link" href="../cdn.html">JS CDN links</a>
                  <a class="dropdown-item nav-link" href="../cdn/bootstrap.html">Bootstrap CDN links</a>
                  <a class="dropdown-item nav-link" href="../cdn/jquery.html">jQuery CDN links</a>
                  <a class="dropdown-item nav-link" href="../cdn/fontawesome.html">fontawesome CDN links</a>
              </div>
            
          </li>
          <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Downloads</a>
              <div class="dropdown-menu" style=" border: none; padding: 0;" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item nav-link" href="#">JS Script</a>
                  <a class="dropdown-item nav-link" href="#">Fontawesome</a>
                  <a class="dropdown-item nav-link" href="#">Bootstrap</a>
              </div>
            
          </li>
          
          <li class="nav-item">
            <a class="nav-link js-scroll" href="#">PHP Module</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll" href="#">Blog</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll" href="../contact.php">Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <!--/ Nav End /-->

  <!--/ Intro Skew Star /-->
  <div class="intro intro-single route bg-image" >
    
    <div class="intro-content display-table">
      <div class="table-cell">
        <div class="container">
          <h2 class="intro-title mb-4">Login Form</h2>
          <p>Using PHP and MySQL Databae with validation</p>    
          
            <hr>
        </div>
      </div>
    </div>
  </div>
  <!--/ Intro Skew End /-->

  <!--/ Section Blog-Single Star /-->
  <section class="blog-wrapper sect-pt4" id="blog">
    <div class="container">
      <div class="row">
        <div class="col-md-9">
          <div class="post-box">
            <p>This tutorial enables you to create your own secure PHP login module. follow the below steps-</p>
            <img src="../img/login_module.JPG" class="img-fluid">  
            <div class="article-content">
                <!--------Create form------------>
                <h3 style="font-size: 1.5rem;">1. Create Form using HTML and CSS</h3>
                
                
             <pre class="prettyprint">
<p> &lt;form method="post" action="sec-login.php" autocomplete="on">
     <!-- display validation error here --> 
        &lt;div class="login-box">
            &lt;img src="avatar.png" class="user">
            &lt;h2>Sign in&lt;/h2> 
            &lt;p>Username&lt;/p>
            &lt;input type="text" name="username" required autofocus placeholder="Enter Username" pattern="[a-zA-Z0]{6,}" title="Please enter in more than six letters" >
            &lt;p>Password&lt;/p>
            &lt;input type="password" name="password" required autofocus placeholder="Enter Password" pattern="(?=^.{8,}$)((?=.\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z)(?=.*[a-z]).*$" title="Must contain at least one number/
                        specialcharacter uppercase and lowercase letter, and at least 8 or more character ">  
            &lt;label>
            &lt;input type="checkbox" checked="checked" name="remeber"> Remember me &lt;/label>

            &lt;button type="submit" name="login" class="btn">Login&lt;/button>
            &lt;h5>
                Forgot &lt;a href="#">password?&lt;/a>
            &lt;/h5>
            &lt;h6>
                Not yet a member? &lt;a href="sec-signup.php">Sign up&lt;/a>
            &lt;/h6>
                    
        &lt;/div>

    &lt;/form>
              </p>
             </pre>
                
                <!--------connection------------>
                <h3 style="font-size: 1.5rem;">2. Connect with Database</h3>
                
                
             <pre class="prettyprint" >
                <p> &lt;?php
    $db = mysqli_connect('localhost','user','password','db_name'); //If no password then leave password block blank ...
    if(!$db){
        die("Connection failed: ".mysqli_connect_error());
    }
        echo "Connected Successfully !";
    
 ?>
                </p>
             </pre>
                
                <!--------Logging------------>
                <h3 style="font-size: 1.5rem;">3. Logging in</h3>
              <p>We verify the username and the password we received and then look up those in the database. Here is the code :</p>
                
                
             <pre class="prettyprint">
             <p>
 $errors = array();             
             
 if (isset($_POST['login'])) {
   	$username = ($_POST['username']);
       $password = ($_POST['password']);

        //ensure that form fields are filled properly
        if (empty($username)) {
        	array_push($errors, "Username is required");  //add error to array
        }
        if (empty($password)) {
        	array_push($errors, "Password is required");  //add error to array
        }
             </p>
             </pre>
            <p>
                In order to identify a user as authorized, we're going to check the database for his combination of username/password, and if a correct combination was entered, we set a session variable.<i> "A <u>session</u> creates a file in a temporary directory on the server where registered session variables and thier values are stored. This data will be available to all the pages on the site during that visit. The location of the temporary file is determined by a setting in <u>php.ini</u> file called <u>session.save_path.</u>"</i>  
            </p>
            
            <p>
                Here is the code to look up the username and password:
            </p>
            <pre class="prettyprint">
             <p>
  if (count($errors) == 0) {
        $password = md5($password); //encrypt password before comparing with that from database
        $query = "SELECT * FROM user WHERE username = '$username' AND password = '$password'";
        $result = mysqli_query($db, $query);
        if (mysqli_num_rows($result) == 1 ) {
        		//log user in
        		$_SESSION['username'] = $username;
        	    //$_SESSION['success'] = "You are now logged in";
        	    header('location: sec-login-dashboard.php'); // redirect to homepage
        		
        	}else{
        		array_push($errors, "wrong username/password combination");
        		
        	}
        }
   }
             </p>    
            </pre>    
                
             <!---------- Access Dashboard------------>
                <h3 style="font-size: 1.5rem;">4. Access the Dashboard</h3>
                <p>
                    For those pages that can only be accessed by the registered members, we need to put an the top of the dashboard page. 
                    Notice that we're setting an authorized session variable in the dashboard code above. On the top of pages we need to protect, we check for that session variable. if user is authorized, we show him the protected content, otherwise we direct him to login form.
                </p>
                <p>
                    Here is the code to your protected pages:
                </p>
             <pre class="prettyprint">
             <p>
 &lt;?php include('sec-login-server.php');
        //if user not logged in, they cannot access this page
    if (empty($_SESSION['username'])) {
        header('location: sec-login.php');
    }
  ?>
             </p>
             </pre>    
            <p>
                Here is the code of our registered members dashboard:    
            </p>    
            <pre class="prettyprint">
&lt;body>
	&lt;div class="header">
	    &lt;h2 style="text-align: center; margin-top: 5%; font-size: 3rem;"> Home Page &lt;/h2>&lt;hr>
    &lt;/div>

    &lt;div class="content">
        &lt;?php if (isset($_SESSION['success'])): ?>
            &lt;div class="error success">
                &lt;h3>
                    &lt;?php
                         echo $_SESSION['success']; 
                         unset($_SESSION['success']);
                    ?>
                         
                     &lt;/h3>

            &lt;/div>
        &lt;?php endif ?>
        &lt;?php if (isset($_SESSION["username"])): ?>
            &lt;p style="text-align: center; font-size: 1.2rem;">Welcome&lt;strong> &lt;?php echo $_SESSION['username']; ?>&lt;/strong>&lt;/p>
            &lt;p class="logout" style="text-align: center;">&lt;a href="sec-login-index.php?logout='1'">Logout&lt;/a>&lt;/p>
        &lt;?php endif ?>
        

    &lt;/div>

  
&lt;/body>

            </pre>
                   
              <blockquote class="blockquote">
                <p class="mb-0"  style="margin-top: 20px;">In just one click download the above script.</p>
              </blockquote>
                
                <a href="#">
                <button class="btn btn-primary" onclick="location.herf = '#'" type="button"><i class="fa fa-download"></i> Download</button>
                </a>    
            </div>
          </div>
        </div>
          
        <div class="col-md-3">
           <ul class="breadcrumb d-flex justify-content-center">
            <li class="nav-item">
              <a href="php.html" class="nav-link"> Login Form </a>
            </li><hr>
               <li class="nav-item">
              <a href="signup.html" class="nav-link">Sign-up Form </a>
            </li><hr>
            <li class="nav-item">
              <a href="#" class="nav-link">Forgot Password</a>
            </li><hr>
            <li class="nav-item">
              <a href="#" class="nav-link">Multiple Users Login</a>
            </li><hr>
            <!--li class="nav-item">
              <a href="#" class="nav-link">Online Parking Booking</a>
            </li><hr>
            <li class="nav-item">
              <a href="#" class="nav-link">Send the Mail using PHPMailer Class</a>
            </li><hr-->   
            
          </ul> 
          
          </div>  
    </div>
</div>
    </section>
    
    
      <!-- Contact Section -->
    <section class="bg-image" style="background: -webkit-gradient(linear, left top, left bottom, from(rgba(22, 22, 22, 0.1)), color-stop(75%, rgba(22, 22, 22, 0.5)), to(#161616)), url('../img/png1.png');">
    <section class="contact-section">
    <div class="container">

      <div class="row">

        <div class="col-md-4 mb-3 mb-md-0">
          <div class="card py-4 h-100">
            <div class="card-body text-center">
              <i class="fa fa-map-marker text-primary mb-2"></i>
              <h4 class="text-uppercase m-0">Address</h4>
              <hr class="my-4">
              <div class="small text-black-50">C1/81B, Street Number 4, Madhu Vihar, New Delhi, 110059</div>
            </div>
          </div>
        </div>

        <div class="col-md-4 mb-3 mb-md-0">
          <div class="card py-4 h-100">
            <div class="card-body text-center">
              <i class="fa fa-envelope text-primary mb-2"></i>
              <h4 class="text-uppercase m-0">Email</h4>
              <hr class="my-4">
              <div class="small text-black-50">
                <a href="#">contact@dujunction.online</a>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-4 mb-3 mb-md-0">
          <div class="card py-4 h-100">
            <div class="card-body text-center">
              <i class="fa fa-mobile-phone text-primary mb-2"></i>
              <h4 class="text-uppercase m-0">Phone</h4>
              <hr class="my-4">
              <div class="small text-black-50">+91 6395515253</div>
            </div>
          </div>
        </div>
      </div>

      <div class="social d-flex justify-content-center">
        <a href="#" class="mx-2">
          <i class="fa fa-twitter"></i>
        </a>
        <a href="#" class="mx-2">
          <i class="fa fa-facebook-f"></i>
        </a>
        <a href="#" class="mx-2">
          <i class="fa fa-github"></i>
        </a>
        <a href="#" class="mx-2">
          <i class="fa fa-linkedin"></i>
        </a>
        <a href="#" class="mx-2">
          <i class="fa fa-instagram"></i>
        </a>
      </div>

    </div>
  </section>



  <!-- Footer -->
  <footer class="small text-center text-white-50">
    <div class="container">
      Copyright &copy; Dujunction 2019
    </div>
  </footer>
        
    </section>     
        



  <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
  <div id="preloader"></div>

  <!-- JavaScript Libraries -->
  <script src="../lib/jquery/jquery.min.js"></script>
  <script src="../lib/jquery/jquery-migrate.min.js"></script>
  <script src="../lib/popper/popper.min.js"></script>
  <script src="../lib/bootstrap/js/bootstrap.min.js"></script>
  <script src="../lib/easing/easing.min.js"></script>
  <script src="../lib/counterup/jquery.waypoints.min.js"></script>
  <script src="../lib/counterup/jquery.counterup.js"></script>
  <script src="../lib/owlcarousel/owl.carousel.min.js"></script>
  <script src="../lib/lightbox/js/lightbox.min.js"></script>
  <script src="../lib/typed/typed.min.js"></script>
  

  <!-- Template Main Javascript File -->
  <script src="../js/main.js"></script>
    

</body> 
</html>
